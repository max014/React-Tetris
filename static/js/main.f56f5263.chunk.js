(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,i,o){t.exports={Instructions:"Instructions_Instructions__2jgbX",Key:"Instructions_Key__2oykU",Container:"Instructions_Container__3NP1d"}},15:function(t,i,o){t.exports={Modal:"Modal_Modal__1blXZ",button:"Modal_button__ol4aY"}},20:function(t,i,o){t.exports={Block:"Block_Block__3y60v",Inner:"Block_Inner__3YnKW"}},30:function(t,i,o){t.exports={App:"App_App__2IEF4"}},31:function(t,i,o){t.exports={Background:"Background_Background__1na2P"}},32:function(t,i,o){t.exports={NumberHolder:"NumberHolder_NumberHolder__3YJSh"}},33:function(t,i,o){t.exports={Dash:"Dash_Dash__Vm3mt"}},34:function(t,i,o){t.exports={Display:"Display_Display__3Qbze"}},35:function(t,i,o){t.exports={HighScores:"HighScores_HighScores__3VtCx"}},38:function(t,i,o){t.exports=o(67)},43:function(t,i,o){},67:function(t,i,o){"use strict";o.r(i);var s=o(0),n=o.n(s),e=o(28),h=o.n(e),r=(o(43),o(3)),a=o(10),p=o(1),y=o(2),x=o(6),c=o(5),l=o(7),u=o(30),f=o.n(u),m=o(31),b=o.n(m),d=function(t){function i(){return Object(p.a)(this,i),Object(x.a)(this,Object(c.a)(i).apply(this,arguments))}return Object(l.a)(i,t),Object(y.a)(i,[{key:"render",value:function(){return n.a.createElement("div",{className:b.a.Background})}}]),i}(s.Component),v=o(13),k=o(20),O=o.n(k),g=function(t){function i(){return Object(p.a)(this,i),Object(x.a)(this,Object(c.a)(i).apply(this,arguments))}return Object(l.a)(i,t),Object(y.a)(i,[{key:"render",value:function(){var t=this,i={width:this.props.step,height:this.props.step,bottom:this.props.y*this.props.step,left:this.props.x*this.props.step,background:function(){switch(t.props.color){case 1:return"red";case 2:return"blue";case 3:return"green";case 4:return"purple";case 5:return"orange";case 6:return"pink";case 7:return"gray";case 8:return"linear-gradient(to right, rgb(15, 32, 39), rgb(32, 58, 67), rgb(44, 83, 100))";default:return null}}()};return n.a.createElement("div",{className:O.a.Block,style:i},n.a.createElement("div",{className:O.a.Inner}))}}]),i}(s.Component),j=Object(r.b)(function(t){return{step:t.step}})(g),E=o(32),w=o.n(E),S=function(t){return n.a.createElement("div",{className:w.a.NumberHolder},n.a.createElement("h3",null,t.title),n.a.createElement("h3",null,t.number))},_=o(33),M=o.n(_),N=Object(r.b)(function(t){return{level:t.level,score:t.score,lines:t.lines}})(function(t){return n.a.createElement("div",{className:M.a.Dash},n.a.createElement(S,{title:"Level",number:t.level}),n.a.createElement(S,{title:"Score",number:t.score}),n.a.createElement(S,{title:"Lines",number:t.lines}))}),I=o(34),C=o.n(I),H=o(14),D=o.n(H),U=function(t){return n.a.createElement("div",{className:D.a.Instructions},n.a.createElement("h4",null,"Rotate"),n.a.createElement("div",{className:D.a.Container},n.a.createElement("div",{className:D.a.Key},"S"),n.a.createElement("div",{className:D.a.Key},"D")))},T=function(t){function i(){var t;return Object(p.a)(this,i),(t=Object(x.a)(this,Object(c.a)(i).call(this))).state={time:Date.now()},t.keydownHandler=t.keydownHandler.bind(Object(v.a)(Object(v.a)(t))),t}return Object(l.a)(i,t),Object(y.a)(i,[{key:"keydownHandler",value:function(t){this.props.setInput(t.keyCode)}},{key:"componentDidMount",value:function(){var t=this;document.addEventListener("keydown",this.keydownHandler),this.state.paused||(this.interval=setInterval(function(){t.props.update(),t.setState({time:Date.now()}),t.props.lost&&t.props.end()},this.props.refreshRate))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keydownHandler),clearInterval(this.interval)}},{key:"render",value:function(){var t={height:this.props.height,width:10*this.props.step},i=this.props.board.map(function(t,i){return t.map(function(t,o){return 0!==t?n.a.createElement(j,{x:o,y:i,color:t,key:o.toString()+"-"+i.toString()}):null})});return n.a.createElement("div",{className:C.a.Display,style:t},n.a.createElement(N,null),n.a.createElement(U,null),i)}}]),i}(s.Component),R=Object(r.b)(function(t){return{board:t.board,height:t.height,step:t.step,lost:t.lost}},function(t){return{update:function(){return t({type:"UPDATE"})},setInput:function(i){return t({type:"SET_INPUT",input:i})},end:function(){return t({type:"END"})}}})(T),A=o(35),B=o.n(A),P=o(8),J=o(36),L=o.n(J).a.create({baseURL:"https://react-tetris.firebaseio.com"}),G=function(t){for(var i=t.map(function(t){return t}),o=t.map(function(t){return t[1].score}),s=[],n=0;n<t.length;n++){var e=o.indexOf(Math.max.apply(Math,Object(P.a)(o)));s.push(i[e]),o.splice(e,1),i.splice(e,1)}return{type:"SET_SCORES",scores:s}},K=function(t){function i(){return Object(p.a)(this,i),Object(x.a)(this,Object(c.a)(i).apply(this,arguments))}return Object(l.a)(i,t),Object(y.a)(i,[{key:"componentDidMount",value:function(){this.props.getScores()}},{key:"render",value:function(){var t=this.props.scores.map(function(t,i){return n.a.createElement("div",{key:i},n.a.createElement("h4",null,t[1].name+" - "+t[1].score))});return n.a.createElement("div",{className:B.a.HighScores},n.a.createElement("h3",null,"High Scores"),t)}}]),i}(s.Component),Z=Object(r.b)(function(t){return{scores:t.scores}},function(t){return{getScores:function(i){return t(function(t){L.get("/scores.json").then(function(i){t(G(Object.entries(i.data)))})})}}})(K),W=function(t){if(t.length>=9){for(var i=t.map(function(t){return t}),o=t.map(function(t){return t[1].score}),s=[],n=0;n<9;n++){var e=o.indexOf(Math.max.apply(Math,Object(P.a)(o)));s.push(i[e]),o.splice(e,1),i.splice(e,1)}console.log(i),i.map(function(t){return L.delete("/scores/"+t[0]+".json"),null})}},Y=o(15),F=o.n(Y),V=function(t){function i(){var t,o;Object(p.a)(this,i);for(var s=arguments.length,n=new Array(s),e=0;e<s;e++)n[e]=arguments[e];return(o=Object(x.a)(this,(t=Object(c.a)(i)).call.apply(t,[this].concat(n)))).state={highScore:!1,name:"name"},o.postAndReset=function(){o.props.postScore(o.props.score,o.state.name),W(o.props.scores),o.props.startGame()},o}return Object(l.a)(i,t),Object(y.a)(i,[{key:"componentDidMount",value:function(){(function(t,i){if(0===t)return!1;for(var o=[],s=i.map(function(t){return t[1].score}),n=0;n<10;n++)o.push(Math.max.apply(Math,Object(P.a)(s))),s.splice(s.indexOf(Math.max.apply(Math,Object(P.a)(s))),1);return t>Math.min.apply(Math,o)})(this.props.score,this.props.scores)&&this.setState({highScore:!0})}},{key:"handleChange",value:function(t){this.setState({name:t.target.value})}},{key:"render",value:function(){var t=null,i=n.a.createElement("div",{className:F.a.button,onClick:this.props.startGame},"ReStart");return this.state.highScore&&(t=n.a.createElement("div",null,n.a.createElement("h4",null,"You made the board!"),n.a.createElement("span",null,"Name:"),n.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange.bind(this)})),i=n.a.createElement("div",{className:F.a.button,onClick:this.postAndReset},"Post High Score")),n.a.createElement("div",{className:F.a.Modal},n.a.createElement("h1",null,"Score: ",this.props.score),t,i)}}]),i}(s.Component),X=Object(r.b)(function(t){return{scores:t.scores,score:t.score}},function(t){return{postScore:function(i,o){return t(function(t,i){return function(o){L.post("/scores.json",{name:i,score:t})}}(i,o))},startGame:function(){return t({type:"START_GAME"})}}})(V),z=function(t){function i(){return Object(p.a)(this,i),Object(x.a)(this,Object(c.a)(i).apply(this,arguments))}return Object(l.a)(i,t),Object(y.a)(i,[{key:"render",value:function(){var t=null;return t=this.props.modalUp?n.a.createElement(X,null):n.a.createElement(R,{refreshRate:1e3/30}),n.a.createElement("div",{className:f.a.App},n.a.createElement(d,null),n.a.createElement(Z,null),t,n.a.createElement(d,null))}}]),i}(s.Component),Q=Object(r.b)(function(t){return{modalUp:t.modalUp}})(z);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=o(37),q=o(12),tt=function(){function t(i){switch(Object(p.a)(this,t),i){case"O":this.position=[{y:21,x:4},{y:21,x:5},{y:20,x:4},{y:20,x:5}],this.color=1;break;case"I":this.position=[{y:23,x:4},{y:22,x:4},{y:21,x:4},{y:20,x:4}],this.color=2;break;case"T":this.position=[{y:21,x:4},{y:20,x:3},{y:20,x:4},{y:20,x:5}],this.color=3;break;case"S":this.position=[{y:22,x:5},{y:21,x:4},{y:21,x:5},{y:20,x:4}],this.color=4;break;case"Z":this.position=[{y:22,x:4},{y:21,x:4},{y:21,x:5},{y:20,x:5}],this.color=5;break;case"J":this.position=[{y:22,x:5},{y:21,x:5},{y:20,x:4},{y:20,x:5}],this.color=6;break;case"L":this.position=[{y:22,x:4},{y:21,x:4},{y:20,x:4},{y:20,x:5}],this.color=7;break;case"SUPER":this.position=[{y:20,x:1},{y:20,x:2},{y:20,x:3},{y:20,x:4},{y:20,x:5},{y:20,x:6},{y:20,x:7},{y:20,x:8}],this.color=8;break;default:return null}this.rotation=0,this.type=i,this.active=!0}return Object(y.a)(t,[{key:"canFall",value:function(t){var i=this.position.map(function(t){return t.y});if(0===Math.min.apply(Math,Object(P.a)(i)))return!1;for(var o=this.position,s=this.position.map(function(t){return{y:t.y-1,x:t.x}}),n=0;n<s.length;n++){var e=s[n].y,h=s[n].x,r=!1;if(e>=0)if(0===t[e][h]);else{for(var a=0;a<o.length;a++)if(JSON.stringify(s[n])===JSON.stringify(o[a])){r=!0;break}if(!r)return!1}}return!0}},{key:"fall",value:function(t){if(this.canFall(t)){var i=this.position.map(function(t){return{y:t.y-1,x:t.x}});this.position=i}else this.active=!1}},{key:"canMoveSideways",value:function(t,i){var o=this,s=this.position.map(function(t){return t.x}),n=Math.min.apply(Math,Object(P.a)(s)),e=Math.max.apply(Math,Object(P.a)(s));if(37===t){if(0===n)return!1}else if(39===t&&9===e)return!1;var h=null;return 37===t?h=-1:39===t&&(h=1),!this.position.map(function(t){var s=t.y,n=t.x,e=o.position.map(function(t){return t.x===n+h&&t.y===s});return 0===i[s][n+h]||!!e.includes(!0)}).includes(!1)}},{key:"counterClockwise",value:function(t){var i=this.position;switch(this.type){case"O":break;case"I":var o=[[{x:this.position[0].x-2,y:this.position[0].y-3},{x:this.position[1].x-1,y:this.position[1].y-2},{x:this.position[2].x,y:this.position[2].y-1},{x:this.position[3].x+1,y:this.position[3].y}],[{x:this.position[0].x+2,y:this.position[0].y+3},{x:this.position[1].x+1,y:this.position[1].y+2},{x:this.position[2].x,y:this.position[2].y+1},{x:this.position[3].x-1,y:this.position[3].y}]];0===this.rotation?(i=o[0],this.rotation=1):(i=o[1],this.rotation=0);break;case"T":o=[[{x:this.position[0].x-1,y:this.position[0].y-1},{x:this.position[1].x+1,y:this.position[1].y-1},{x:this.position[2].x,y:this.position[2].y},{x:this.position[3].x-1,y:this.position[3].y+1}],[{x:this.position[0].x+1,y:this.position[0].y-1},{x:this.position[1].x+1,y:this.position[1].y+1},{x:this.position[2].x,y:this.position[2].y},{x:this.position[3].x-1,y:this.position[3].y-1}],[{x:this.position[0].x+1,y:this.position[0].y+1},{x:this.position[1].x-1,y:this.position[1].y+1},{x:this.position[2].x,y:this.position[2].y},{x:this.position[3].x+1,y:this.position[3].y-1}],[{x:this.position[0].x-1,y:this.position[0].y+1},{x:this.position[1].x-1,y:this.position[1].y-1},{x:this.position[2].x,y:this.position[2].y},{x:this.position[3].x+1,y:this.position[3].y+1}]],0===this.rotation?(i=o[0],this.rotation=1):1===this.rotation?(i=o[1],this.rotation=2):2===this.rotation?(i=o[2],this.rotation=3):3===this.rotation&&(i=o[3],this.rotation=0);break;case"S":o=[[{x:this.position[0].x-2,y:this.position[0].y-1},{x:this.position[1].x,y:this.position[1].y-1},{x:this.position[2].x-1,y:this.position[2].y},{x:this.position[3].x+1,y:this.position[3].y}],[{x:this.position[0].x+2,y:this.position[0].y+1},{x:this.position[1].x,y:this.position[1].y+1},{x:this.position[2].x+1,y:this.position[2].y},{x:this.position[3].x-1,y:this.position[3].y}]],0===this.rotation?(i=o[0],this.rotation=1):1===this.rotation&&(i=o[1],this.rotation=0);break;case"Z":o=[[{x:this.position[0].x+2,y:this.position[0].y-1},{x:this.position[1].x+1,y:this.position[1].y},{x:this.position[2].x,y:this.position[2].y-1},{x:this.position[3].x-1,y:this.position[3].y}],[{x:this.position[0].x-2,y:this.position[0].y+1},{x:this.position[1].x-1,y:this.position[1].y},{x:this.position[2].x,y:this.position[2].y+1},{x:this.position[3].x+1,y:this.position[3].y}]],0===this.rotation?(i=o[0],this.rotation=1):1===this.rotation&&(i=o[1],this.rotation=0);break;case"J":o=[[{x:this.position[0].x-2,y:this.position[0].y-1},{x:this.position[1].x-1,y:this.position[1].y},{x:this.position[2].x+1,y:this.position[2].y},{x:this.position[3].x,y:this.position[3].y+1}],[{x:this.position[0].x+1,y:this.position[0].y-1},{x:this.position[1].x,y:this.position[1].y},{x:this.position[2].x,y:this.position[2].y+2},{x:this.position[3].x-1,y:this.position[3].y+1}],[{x:this.position[0].x+2,y:this.position[0].y},{x:this.position[1].x+1,y:this.position[1].y-1},{x:this.position[2].x-1,y:this.position[2].y-1},{x:this.position[3].x,y:this.position[3].y-2}],[{x:this.position[0].x-1,y:this.position[0].y+2},{x:this.position[1].x,y:this.position[1].y+1},{x:this.position[2].x,y:this.position[2].y-1},{x:this.position[3].x+1,y:this.position[3].y}]],0===this.rotation?(i=o[0],this.rotation=1):1===this.rotation?(i=o[1],this.rotation=2):2===this.rotation?(i=o[2],this.rotation=3):3===this.rotation&&(i=o[3],this.rotation=0);break;case"L":o=[[{x:this.position[0].x-1,y:this.position[0].y-2},{x:this.position[1].x,y:this.position[1].y-1},{x:this.position[2].x+1,y:this.position[2].y},{x:this.position[3].x,y:this.position[3].y+1}],[{x:this.position[0].x+2,y:this.position[0].y},{x:this.position[1].x+1,y:this.position[1].y+1},{x:this.position[2].x,y:this.position[2].y+2},{x:this.position[3].x-1,y:this.position[3].y+1}],[{x:this.position[0].x+1,y:this.position[0].y+1},{x:this.position[1].x,y:this.position[1].y},{x:this.position[2].x-1,y:this.position[2].y-1},{x:this.position[3].x,y:this.position[3].y-2}],[{x:this.position[0].x-2,y:this.position[0].y+1},{x:this.position[1].x-1,y:this.position[1].y},{x:this.position[2].x,y:this.position[2].y-1},{x:this.position[3].x+1,y:this.position[3].y}]],0===this.rotation?(i=o[0],this.rotation=1):1===this.rotation?(i=o[1],this.rotation=2):2===this.rotation?(i=o[2],this.rotation=3):3===this.rotation&&(i=o[3],this.rotation=0);break;case"SUPER":o=[[{x:this.position[0].x+4,y:this.position[0].y},{x:this.position[1].x+3,y:this.position[1].y+1},{x:this.position[2].x+2,y:this.position[2].y+2},{x:this.position[3].x+1,y:this.position[3].y+3},{x:this.position[4].x,y:this.position[4].y+4},{x:this.position[5].x-1,y:this.position[5].y+5},{x:this.position[6].x-2,y:this.position[6].y+6},{x:this.position[7].x-3,y:this.position[7].y+7}],[{x:this.position[0].x-4,y:this.position[0].y},{x:this.position[1].x-3,y:this.position[1].y-1},{x:this.position[2].x-2,y:this.position[2].y-2},{x:this.position[3].x-1,y:this.position[3].y-3},{x:this.position[4].x,y:this.position[4].y-4},{x:this.position[5].x+1,y:this.position[5].y-5},{x:this.position[6].x+2,y:this.position[6].y-6},{x:this.position[7].x+3,y:this.position[7].y-7}]],0===this.rotation?(i=o[0],this.rotation=1):(i=o[1],this.rotation=0)}for(var s=0;s<i.length;s++)if(0!==t[i[s].y][i[s].x])return!1;this.position=i}},{key:"clockwise",value:function(t){var i=this.position;switch(this.type){case"O":break;case"I":var o=[[{x:this.position[0].x-2,y:this.position[0].y-3},{x:this.position[1].x-1,y:this.position[1].y-2},{x:this.position[2].x,y:this.position[2].y-1},{x:this.position[3].x+1,y:this.position[3].y}],[{x:this.position[0].x+2,y:this.position[0].y+3},{x:this.position[1].x+1,y:this.position[1].y+2},{x:this.position[2].x,y:this.position[2].y+1},{x:this.position[3].x-1,y:this.position[3].y}]];0===this.rotation?(i=o[0],this.rotation=1):(i=o[1],this.rotation=0);break;case"T":o=[[{x:this.position[0].x+1,y:this.position[0].y-1},{x:this.position[1].x+1,y:this.position[1].y+1},{x:this.position[2].x,y:this.position[2].y},{x:this.position[3].x-1,y:this.position[3].y-1}],[{x:this.position[0].x-1,y:this.position[0].y-1},{x:this.position[1].x+1,y:this.position[1].y-1},{x:this.position[2].x,y:this.position[2].y},{x:this.position[3].x-1,y:this.position[3].y+1}],[{x:this.position[0].x-1,y:this.position[0].y+1},{x:this.position[1].x-1,y:this.position[1].y-1},{x:this.position[2].x,y:this.position[2].y},{x:this.position[3].x+1,y:this.position[3].y+1}],[{x:this.position[0].x+1,y:this.position[0].y+1},{x:this.position[1].x-1,y:this.position[1].y+1},{x:this.position[2].x,y:this.position[2].y},{x:this.position[3].x+1,y:this.position[3].y-1}]],0===this.rotation?(i=o[0],this.rotation=3):3===this.rotation?(i=o[1],this.rotation=2):2===this.rotation?(i=o[2],this.rotation=1):1===this.rotation&&(i=o[3],this.rotation=0);break;case"S":o=[[{x:this.position[0].x-2,y:this.position[0].y-1},{x:this.position[1].x,y:this.position[1].y-1},{x:this.position[2].x-1,y:this.position[2].y},{x:this.position[3].x+1,y:this.position[3].y}],[{x:this.position[0].x+2,y:this.position[0].y+1},{x:this.position[1].x,y:this.position[1].y+1},{x:this.position[2].x+1,y:this.position[2].y},{x:this.position[3].x-1,y:this.position[3].y}]],0===this.rotation?(i=o[0],this.rotation=1):1===this.rotation&&(i=o[1],this.rotation=0);break;case"Z":o=[[{x:this.position[0].x+2,y:this.position[0].y-1},{x:this.position[1].x+1,y:this.position[1].y},{x:this.position[2].x,y:this.position[2].y-1},{x:this.position[3].x-1,y:this.position[3].y}],[{x:this.position[0].x-2,y:this.position[0].y+1},{x:this.position[1].x-1,y:this.position[1].y},{x:this.position[2].x,y:this.position[2].y+1},{x:this.position[3].x+1,y:this.position[3].y}]],0===this.rotation?(i=o[0],this.rotation=1):1===this.rotation&&(i=o[1],this.rotation=0);break;case"J":o=[[{x:this.position[0].x+1,y:this.position[0].y-2},{x:this.position[1].x,y:this.position[1].y-1},{x:this.position[2].x,y:this.position[2].y+1},{x:this.position[3].x-1,y:this.position[3].y}],[{x:this.position[0].x-2,y:this.position[0].y},{x:this.position[1].x-1,y:this.position[1].y+1},{x:this.position[2].x+1,y:this.position[2].y+1},{x:this.position[3].x,y:this.position[3].y+2}],[{x:this.position[0].x-1,y:this.position[0].y+1},{x:this.position[1].x,y:this.position[1].y},{x:this.position[2].x,y:this.position[2].y-2},{x:this.position[3].x+1,y:this.position[3].y-1}],[{x:this.position[0].x+2,y:this.position[0].y+1},{x:this.position[1].x+1,y:this.position[1].y},{x:this.position[2].x-1,y:this.position[2].y},{x:this.position[3].x,y:this.position[3].y-1}]],0===this.rotation?(i=o[0],this.rotation=3):3===this.rotation?(i=o[1],this.rotation=2):2===this.rotation?(i=o[2],this.rotation=1):1===this.rotation&&(i=o[3],this.rotation=0);break;case"L":o=[[{x:this.position[0].x+2,y:this.position[0].y-1},{x:this.position[1].x+1,y:this.position[1].y},{x:this.position[2].x,y:this.position[2].y+1},{x:this.position[3].x-1,y:this.position[3].y}],[{x:this.position[0].x-1,y:this.position[0].y-1},{x:this.position[1].x,y:this.position[1].y},{x:this.position[2].x+1,y:this.position[2].y+1},{x:this.position[3].x,y:this.position[3].y+2}],[{x:this.position[0].x-2,y:this.position[0].y},{x:this.position[1].x-1,y:this.position[1].y-1},{x:this.position[2].x,y:this.position[2].y-2},{x:this.position[3].x+1,y:this.position[3].y-1}],[{x:this.position[0].x+1,y:this.position[0].y+2},{x:this.position[1].x,y:this.position[1].y+1},{x:this.position[2].x-1,y:this.position[2].y},{x:this.position[3].x,y:this.position[3].y-1}]],0===this.rotation?(i=o[0],this.rotation=3):3===this.rotation?(i=o[1],this.rotation=2):2===this.rotation?(i=o[2],this.rotation=1):1===this.rotation&&(i=o[3],this.rotation=0);break;case"SUPER":o=[[{x:this.position[0].x+4,y:this.position[0].y},{x:this.position[1].x+3,y:this.position[1].y+1},{x:this.position[2].x+2,y:this.position[2].y+2},{x:this.position[3].x+1,y:this.position[3].y+3},{x:this.position[4].x,y:this.position[4].y+4},{x:this.position[5].x-1,y:this.position[5].y+5},{x:this.position[6].x-2,y:this.position[6].y+6},{x:this.position[7].x-3,y:this.position[7].y+7}],[{x:this.position[0].x-4,y:this.position[0].y},{x:this.position[1].x-3,y:this.position[1].y-1},{x:this.position[2].x-2,y:this.position[2].y-2},{x:this.position[3].x-1,y:this.position[3].y-3},{x:this.position[4].x,y:this.position[4].y-4},{x:this.position[5].x+1,y:this.position[5].y-5},{x:this.position[6].x+2,y:this.position[6].y-6},{x:this.position[7].x+3,y:this.position[7].y-7}]],0===this.rotation?(i=o[0],this.rotation=1):(i=o[1],this.rotation=0)}for(var s=0;s<i.length;s++)if(0!==t[i[s].y][i[s].x])return!1;this.position=i}},{key:"move",value:function(t,i){if(37===t||39===t){if(this.canMoveSideways(t,i)){var o=this.position.map(function(i){switch(t){case 37:return{y:i.y,x:i.x-1};case 39:return{y:i.y,x:i.x+1};default:return null}});this.position=o}}else if(83===t||68===t)switch(t){case 83:this.counterClockwise(i);break;case 68:this.clockwise(i)}else 40===t&&this.fall(i)}}]),t}(),it=0,ot=function(t){var i=t.lost,o=t.board,s=t.score,n=t.lines,e=t.level,h=t.pieces,r=t.pieces.filter(function(t){return t.active});if(0===r.length){var a=new tt(function(){var t=Math.floor(700*Math.random());return t<100?"O":t<200?"I":t<300?"T":t<400?"S":t<500?"Z":t<600?"J":t<699?"L":"SUPER"}());h=t.pieces.concat(a)}if(r.map(function(i){return t.input&&(i.position.map(function(t){return o[t.y][t.x]=0,null}),i.move(t.input,o),i.position.map(function(t){return o[t.y][t.x]=i.color,null})),0===it&&(i.position.map(function(t){return o[t.y][t.x]=0,null}),i.fall(o),i.position.map(function(t){return o[t.y][t.x]=i.color,null})),null}),n>=80?e=8:n>=70?e=7:n>=60?e=6:n>=50?e=5:n>=40?e=4:n>=30?e=3:n>=20?e=2:n>=10&&(e=1),0===r.length){var p=function(t){for(var i=t,o=0,s=0;s<t.length;s++)t[s].includes(0)||(i.splice(s,1),i.push([0,0,0,0,0,0,0,0,0,0]),o++,s--);var n=0;switch(o){case 1:n=40;break;case 2:n=100;break;case 3:n=300;break;case 4:n=1200;break;case 5:n=5e3;break;case 6:n=1e4;break;case 7:n=35e3;break;case 8:n=5e4}return{newBoard:i,score:n,lines:o}}(o);o=p.newBoard,s+=0===e?p.score:p.score*t.level*10,n+=p.lines,function(t){for(var i=0;i<10;i++)if(0!==t[20][i])return!0;return!1}(o)&&(i=!0)}return it<[30,25,20,15,10,5,3,1,0][t.level]?it++:it=0,{pieces:h,board:o,score:s,lines:n,level:e,lost:i}},st={board:[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],pieces:[],height:window.innerHeight,step:Math.floor(window.innerHeight/20),input:null,level:0,score:0,lines:0,lost:!1,scores:[],modalUp:!1},nt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,i=arguments.length>1?arguments[1]:void 0;switch(i.type){case"START_GAME":return Object(q.a)({},t,{board:[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],pieces:[],height:window.innerHeight,step:Math.floor(window.innerHeight/20),input:null,level:0,score:0,lines:0,lost:!1,modalUp:!1});case"UPDATE":var o=ot(t);return Object(q.a)({},t,{pieces:o.pieces,board:o.board,input:null,score:o.score,lines:o.lines,level:o.level,lost:o.lost});case"SET_INPUT":return Object(q.a)({},t,{input:i.input});case"END":return Object(q.a)({},t,{modalUp:!0});case"SET_SCORES":var s=i.scores;return Object(q.a)({},t,{scores:s});default:return t}},et=Object(a.d)(nt,Object(a.c)(Object(a.a)($.a))),ht=n.a.createElement(r.a,{store:et},n.a.createElement(Q,null));h.a.render(ht,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.f56f5263.chunk.js.map