(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(i,t,o){i.exports={Instructions:"Instructions_Instructions__2jgbX",Key:"Instructions_Key__2oykU",Container:"Instructions_Container__3NP1d"}},15:function(i,t,o){i.exports={Modal:"Modal_Modal__1blXZ",button:"Modal_button__ol4aY"}},20:function(i,t,o){i.exports={Block:"Block_Block__3y60v",Inner:"Block_Inner__3YnKW"}},30:function(i,t,o){i.exports={App:"App_App__2IEF4"}},31:function(i,t,o){i.exports={Background:"Background_Background__1na2P"}},32:function(i,t,o){i.exports={NumberHolder:"NumberHolder_NumberHolder__3YJSh"}},33:function(i,t,o){i.exports={Dash:"Dash_Dash__Vm3mt"}},34:function(i,t,o){i.exports={Display:"Display_Display__3Qbze"}},35:function(i,t,o){i.exports={HighScores:"HighScores_HighScores__3VtCx"}},38:function(i,t,o){i.exports=o(67)},43:function(i,t,o){},67:function(i,t,o){"use strict";o.r(t);var s=o(0),n=o.n(s),e=o(28),h=o.n(e),p=(o(43),o(3)),r=o(10),a=o(1),y=o(2),x=o(6),c=o(5),l=o(7),u=o(30),f=o.n(u),m=o(31),b=o.n(m),d=function(i){function t(){return Object(a.a)(this,t),Object(x.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,i),Object(y.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:b.a.Background})}}]),t}(s.Component),v=o(13),k=o(20),O=o.n(k),g=function(i){function t(){return Object(a.a)(this,t),Object(x.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,i),Object(y.a)(t,[{key:"render",value:function(){var i=this,t={width:this.props.step,height:this.props.step,bottom:this.props.y*this.props.step,left:this.props.x*this.props.step,background:function(){switch(i.props.color){case 1:return"red";case 2:return"blue";case 3:return"green";case 4:return"purple";case 5:return"orange";case 6:return"pink";case 7:return"gray";case 8:return"linear-gradient(to right, rgb(15, 32, 39), rgb(32, 58, 67), rgb(44, 83, 100))";default:return null}}()};return n.a.createElement("div",{className:O.a.Block,style:t},n.a.createElement("div",{className:O.a.Inner}))}}]),t}(s.Component),j=Object(p.b)(function(i){return{step:i.step}})(g),E=o(32),w=o.n(E),S=function(i){return n.a.createElement("div",{className:w.a.NumberHolder},n.a.createElement("h3",null,i.title),n.a.createElement("h3",null,i.number))},_=o(33),M=o.n(_),N=Object(p.b)(function(i){return{level:i.level,score:i.score,lines:i.lines}})(function(i){return n.a.createElement("div",{className:M.a.Dash},n.a.createElement(S,{title:"Level",number:i.level}),n.a.createElement(S,{title:"Score",number:i.score}),n.a.createElement(S,{title:"Lines",number:i.lines}))}),I=o(34),C=o.n(I),H=o(14),D=o.n(H),U=function(i){return n.a.createElement("div",{className:D.a.Instructions},n.a.createElement("h4",null,"Rotate"),n.a.createElement("div",{className:D.a.Container},n.a.createElement("div",{className:D.a.Key},"S"),n.a.createElement("div",{className:D.a.Key},"D")))},T=function(i){function t(){var i;return Object(a.a)(this,t),(i=Object(x.a)(this,Object(c.a)(t).call(this))).state={time:Date.now()},i.keydownHandler=i.keydownHandler.bind(Object(v.a)(Object(v.a)(i))),i}return Object(l.a)(t,i),Object(y.a)(t,[{key:"keydownHandler",value:function(i){this.props.setInput(i.keyCode)}},{key:"componentDidMount",value:function(){var i=this;document.addEventListener("keydown",this.keydownHandler),this.state.paused||(this.interval=setInterval(function(){i.props.update(),i.setState({time:Date.now()}),i.props.lost&&i.props.end()},this.props.refreshRate))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keydownHandler),clearInterval(this.interval)}},{key:"render",value:function(){var i={height:this.props.height,width:10*this.props.step},t=this.props.board.map(function(i,t){return i.map(function(i,o){return 0!==i?n.a.createElement(j,{x:o,y:t,color:i,key:o.toString()+"-"+t.toString()}):null})});return n.a.createElement("div",{className:C.a.Display,style:i},n.a.createElement(N,null),n.a.createElement(U,null),t)}}]),t}(s.Component),R=Object(p.b)(function(i){return{board:i.board,height:i.height,step:i.step,lost:i.lost}},function(i){return{update:function(){return i({type:"UPDATE"})},setInput:function(t){return i({type:"SET_INPUT",input:t})},end:function(){return i({type:"END"})}}})(T),A=o(35),B=o.n(A),P=o(8),J=o(36),L=o.n(J).a.create({baseURL:"https://react-tetris.firebaseio.com"}),G=function(i){for(var t=i.map(function(i){return i}),o=i.map(function(i){return i[1].score}),s=[],n=0;n<i.length;n++){var e=o.indexOf(Math.max.apply(Math,Object(P.a)(o)));s.push(t[e]),o.splice(e,1),t.splice(e,1)}return{type:"SET_SCORES",scores:s}},K=function(i){function t(){return Object(a.a)(this,t),Object(x.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,i),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.getScores()}},{key:"render",value:function(){var i=this.props.scores.map(function(i,t){return n.a.createElement("div",{key:t},n.a.createElement("h4",null,i[1].name+" - "+i[1].score))});return n.a.createElement("div",{className:B.a.HighScores},n.a.createElement("h3",null,"High Scores"),i)}}]),t}(s.Component),Z=Object(p.b)(function(i){return{scores:i.scores}},function(i){return{getScores:function(t){return i(function(i){L.get("/scores.json").then(function(t){i(G(Object.entries(t.data)))})})}}})(K),W=function(i){if(i.length>=9){for(var t=i.map(function(i){return i}),o=i.map(function(i){return i[1].score}),s=[],n=0;n<9;n++){var e=o.indexOf(Math.max.apply(Math,Object(P.a)(o)));s.push(t[e]),o.splice(e,1),t.splice(e,1)}console.log(t),t.map(function(i){return L.delete("/scores/"+i[0]+".json"),null})}},Y=o(15),F=o.n(Y),V=function(i){function t(){var i,o;Object(a.a)(this,t);for(var s=arguments.length,n=new Array(s),e=0;e<s;e++)n[e]=arguments[e];return(o=Object(x.a)(this,(i=Object(c.a)(t)).call.apply(i,[this].concat(n)))).state={highScore:!1,name:"name"},o.postAndReset=function(){o.props.postScore(o.props.score,o.state.name),W(o.props.scores),o.props.startGame()},o}return Object(l.a)(t,i),Object(y.a)(t,[{key:"componentDidMount",value:function(){(function(i,t){if(0===i)return!1;for(var o=[],s=t.map(function(i){return i[1].score}),n=0;n<10;n++)o.push(Math.max.apply(Math,Object(P.a)(s))),s.splice(s.indexOf(Math.max.apply(Math,Object(P.a)(s))),1);return i>Math.min.apply(Math,o)})(this.props.score,this.props.scores)&&this.setState({highScore:!0})}},{key:"handleChange",value:function(i){this.setState({name:i.target.value})}},{key:"render",value:function(){var i=null,t=n.a.createElement("div",{className:F.a.button,onClick:this.props.startGame},"ReStart");return this.state.highScore&&(i=n.a.createElement("div",null,n.a.createElement("h4",null,"You made the board!"),n.a.createElement("span",null,"Name:"),n.a.createElement("input",{maxlength:"15",type:"text",name:"name",value:this.state.name,onChange:this.handleChange.bind(this)})),t=n.a.createElement("div",{className:F.a.button,onClick:this.postAndReset},"Post High Score")),n.a.createElement("div",{className:F.a.Modal},n.a.createElement("h1",null,"Score: ",this.props.score),i,t)}}]),t}(s.Component),X=Object(p.b)(function(i){return{scores:i.scores,score:i.score}},function(i){return{postScore:function(t,o){return i(function(i,t){return function(o){L.post("/scores.json",{name:t,score:i})}}(t,o))},startGame:function(){return i({type:"START_GAME"})}}})(V),z=function(i){function t(){return Object(a.a)(this,t),Object(x.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,i),Object(y.a)(t,[{key:"render",value:function(){var i=null;return i=this.props.modalUp?n.a.createElement(X,null):n.a.createElement(R,{refreshRate:1e3/30}),n.a.createElement("div",{className:f.a.App},n.a.createElement(d,null),n.a.createElement(Z,null),i,n.a.createElement(d,null))}}]),t}(s.Component),Q=Object(p.b)(function(i){return{modalUp:i.modalUp}})(z);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=o(37),q=o(12),ii=function(){function i(t){switch(Object(a.a)(this,i),t){case"O":this.position=[{y:21,x:4},{y:21,x:5},{y:20,x:4},{y:20,x:5}],this.color=1;break;case"I":this.position=[{y:23,x:4},{y:22,x:4},{y:21,x:4},{y:20,x:4}],this.color=2;break;case"T":this.position=[{y:21,x:4},{y:20,x:3},{y:20,x:4},{y:20,x:5}],this.color=3;break;case"S":this.position=[{y:22,x:5},{y:21,x:4},{y:21,x:5},{y:20,x:4}],this.color=4;break;case"Z":this.position=[{y:22,x:4},{y:21,x:4},{y:21,x:5},{y:20,x:5}],this.color=5;break;case"J":this.position=[{y:22,x:5},{y:21,x:5},{y:20,x:4},{y:20,x:5}],this.color=6;break;case"L":this.position=[{y:22,x:4},{y:21,x:4},{y:20,x:4},{y:20,x:5}],this.color=7;break;case"SUPER":this.position=[{y:20,x:1},{y:20,x:2},{y:20,x:3},{y:20,x:4},{y:20,x:5},{y:20,x:6},{y:20,x:7},{y:20,x:8}],this.color=8;break;default:return null}this.rotation=0,this.type=t,this.active=!0}return Object(y.a)(i,[{key:"canFall",value:function(i){var t=this.position.map(function(i){return i.y});if(0===Math.min.apply(Math,Object(P.a)(t)))return!1;for(var o=this.position,s=this.position.map(function(i){return{y:i.y-1,x:i.x}}),n=0;n<s.length;n++){var e=s[n].y,h=s[n].x,p=!1;if(e>=0)if(0===i[e][h]);else{for(var r=0;r<o.length;r++)if(JSON.stringify(s[n])===JSON.stringify(o[r])){p=!0;break}if(!p)return!1}}return!0}},{key:"fall",value:function(i){if(this.canFall(i)){var t=this.position.map(function(i){return{y:i.y-1,x:i.x}});this.position=t}else this.active=!1}},{key:"canMoveSideways",value:function(i,t){var o=this,s=this.position.map(function(i){return i.x}),n=Math.min.apply(Math,Object(P.a)(s)),e=Math.max.apply(Math,Object(P.a)(s));if(37===i){if(0===n)return!1}else if(39===i&&9===e)return!1;var h=null;return 37===i?h=-1:39===i&&(h=1),!this.position.map(function(i){var s=i.y,n=i.x,e=o.position.map(function(i){return i.x===n+h&&i.y===s});return 0===t[s][n+h]||!!e.includes(!0)}).includes(!1)}},{key:"counterClockwise",value:function(i){var t=this.position,o=this.rotation;switch(this.type){case"O":break;case"I":var s=[[{x:this.position[0].x-2,y:this.position[0].y-3},{x:this.position[1].x-1,y:this.position[1].y-2},{x:this.position[2].x,y:this.position[2].y-1},{x:this.position[3].x+1,y:this.position[3].y}],[{x:this.position[0].x+2,y:this.position[0].y+3},{x:this.position[1].x+1,y:this.position[1].y+2},{x:this.position[2].x,y:this.position[2].y+1},{x:this.position[3].x-1,y:this.position[3].y}]];0===this.rotation?(t=s[0],o=1):(t=s[1],o=0);break;case"T":s=[[{x:this.position[0].x-1,y:this.position[0].y-1},{x:this.position[1].x+1,y:this.position[1].y-1},{x:this.position[2].x,y:this.position[2].y},{x:this.position[3].x-1,y:this.position[3].y+1}],[{x:this.position[0].x+1,y:this.position[0].y-1},{x:this.position[1].x+1,y:this.position[1].y+1},{x:this.position[2].x,y:this.position[2].y},{x:this.position[3].x-1,y:this.position[3].y-1}],[{x:this.position[0].x+1,y:this.position[0].y+1},{x:this.position[1].x-1,y:this.position[1].y+1},{x:this.position[2].x,y:this.position[2].y},{x:this.position[3].x+1,y:this.position[3].y-1}],[{x:this.position[0].x-1,y:this.position[0].y+1},{x:this.position[1].x-1,y:this.position[1].y-1},{x:this.position[2].x,y:this.position[2].y},{x:this.position[3].x+1,y:this.position[3].y+1}]],0===this.rotation?(t=s[0],o=1):1===this.rotation?(t=s[1],o=2):2===this.rotation?(t=s[2],o=3):3===this.rotation&&(t=s[3],o=0);break;case"S":s=[[{x:this.position[0].x-2,y:this.position[0].y-1},{x:this.position[1].x,y:this.position[1].y-1},{x:this.position[2].x-1,y:this.position[2].y},{x:this.position[3].x+1,y:this.position[3].y}],[{x:this.position[0].x+2,y:this.position[0].y+1},{x:this.position[1].x,y:this.position[1].y+1},{x:this.position[2].x+1,y:this.position[2].y},{x:this.position[3].x-1,y:this.position[3].y}]],0===this.rotation?(t=s[0],o=1):1===this.rotation&&(t=s[1],o=0);break;case"Z":s=[[{x:this.position[0].x+2,y:this.position[0].y-1},{x:this.position[1].x+1,y:this.position[1].y},{x:this.position[2].x,y:this.position[2].y-1},{x:this.position[3].x-1,y:this.position[3].y}],[{x:this.position[0].x-2,y:this.position[0].y+1},{x:this.position[1].x-1,y:this.position[1].y},{x:this.position[2].x,y:this.position[2].y+1},{x:this.position[3].x+1,y:this.position[3].y}]],0===this.rotation?(t=s[0],o=1):1===this.rotation&&(t=s[1],o=0);break;case"J":s=[[{x:this.position[0].x-2,y:this.position[0].y-1},{x:this.position[1].x-1,y:this.position[1].y},{x:this.position[2].x+1,y:this.position[2].y},{x:this.position[3].x,y:this.position[3].y+1}],[{x:this.position[0].x+1,y:this.position[0].y-1},{x:this.position[1].x,y:this.position[1].y},{x:this.position[2].x,y:this.position[2].y+2},{x:this.position[3].x-1,y:this.position[3].y+1}],[{x:this.position[0].x+2,y:this.position[0].y},{x:this.position[1].x+1,y:this.position[1].y-1},{x:this.position[2].x-1,y:this.position[2].y-1},{x:this.position[3].x,y:this.position[3].y-2}],[{x:this.position[0].x-1,y:this.position[0].y+2},{x:this.position[1].x,y:this.position[1].y+1},{x:this.position[2].x,y:this.position[2].y-1},{x:this.position[3].x+1,y:this.position[3].y}]],0===this.rotation?(t=s[0],o=1):1===this.rotation?(t=s[1],o=2):2===this.rotation?(t=s[2],o=3):3===this.rotation&&(t=s[3],o=0);break;case"L":s=[[{x:this.position[0].x-1,y:this.position[0].y-2},{x:this.position[1].x,y:this.position[1].y-1},{x:this.position[2].x+1,y:this.position[2].y},{x:this.position[3].x,y:this.position[3].y+1}],[{x:this.position[0].x+2,y:this.position[0].y},{x:this.position[1].x+1,y:this.position[1].y+1},{x:this.position[2].x,y:this.position[2].y+2},{x:this.position[3].x-1,y:this.position[3].y+1}],[{x:this.position[0].x+1,y:this.position[0].y+1},{x:this.position[1].x,y:this.position[1].y},{x:this.position[2].x-1,y:this.position[2].y-1},{x:this.position[3].x,y:this.position[3].y-2}],[{x:this.position[0].x-2,y:this.position[0].y+1},{x:this.position[1].x-1,y:this.position[1].y},{x:this.position[2].x,y:this.position[2].y-1},{x:this.position[3].x+1,y:this.position[3].y}]],0===this.rotation?(t=s[0],o=1):1===this.rotation?(t=s[1],o=2):2===this.rotation?(t=s[2],o=3):3===this.rotation&&(t=s[3],o=0);break;case"SUPER":s=[[{x:this.position[0].x+4,y:this.position[0].y},{x:this.position[1].x+3,y:this.position[1].y+1},{x:this.position[2].x+2,y:this.position[2].y+2},{x:this.position[3].x+1,y:this.position[3].y+3},{x:this.position[4].x,y:this.position[4].y+4},{x:this.position[5].x-1,y:this.position[5].y+5},{x:this.position[6].x-2,y:this.position[6].y+6},{x:this.position[7].x-3,y:this.position[7].y+7}],[{x:this.position[0].x-4,y:this.position[0].y},{x:this.position[1].x-3,y:this.position[1].y-1},{x:this.position[2].x-2,y:this.position[2].y-2},{x:this.position[3].x-1,y:this.position[3].y-3},{x:this.position[4].x,y:this.position[4].y-4},{x:this.position[5].x+1,y:this.position[5].y-5},{x:this.position[6].x+2,y:this.position[6].y-6},{x:this.position[7].x+3,y:this.position[7].y-7}]],0===this.rotation?(t=s[0],o=1):(t=s[1],o=0)}for(var n=0;n<t.length;n++)if(0!==i[t[n].y][t[n].x])return!1;this.position=t,this.rotation=o}},{key:"clockwise",value:function(i){var t=this.position,o=this.rotation;switch(this.type){case"O":break;case"I":var s=[[{x:this.position[0].x-2,y:this.position[0].y-3},{x:this.position[1].x-1,y:this.position[1].y-2},{x:this.position[2].x,y:this.position[2].y-1},{x:this.position[3].x+1,y:this.position[3].y}],[{x:this.position[0].x+2,y:this.position[0].y+3},{x:this.position[1].x+1,y:this.position[1].y+2},{x:this.position[2].x,y:this.position[2].y+1},{x:this.position[3].x-1,y:this.position[3].y}]];0===this.rotation?(t=s[0],o=1):(t=s[1],o=0);break;case"T":s=[[{x:this.position[0].x+1,y:this.position[0].y-1},{x:this.position[1].x+1,y:this.position[1].y+1},{x:this.position[2].x,y:this.position[2].y},{x:this.position[3].x-1,y:this.position[3].y-1}],[{x:this.position[0].x-1,y:this.position[0].y-1},{x:this.position[1].x+1,y:this.position[1].y-1},{x:this.position[2].x,y:this.position[2].y},{x:this.position[3].x-1,y:this.position[3].y+1}],[{x:this.position[0].x-1,y:this.position[0].y+1},{x:this.position[1].x-1,y:this.position[1].y-1},{x:this.position[2].x,y:this.position[2].y},{x:this.position[3].x+1,y:this.position[3].y+1}],[{x:this.position[0].x+1,y:this.position[0].y+1},{x:this.position[1].x-1,y:this.position[1].y+1},{x:this.position[2].x,y:this.position[2].y},{x:this.position[3].x+1,y:this.position[3].y-1}]],0===this.rotation?(t=s[0],o=3):3===this.rotation?(t=s[1],o=2):2===this.rotation?(t=s[2],o=1):1===this.rotation&&(t=s[3],o=0);break;case"S":s=[[{x:this.position[0].x-2,y:this.position[0].y-1},{x:this.position[1].x,y:this.position[1].y-1},{x:this.position[2].x-1,y:this.position[2].y},{x:this.position[3].x+1,y:this.position[3].y}],[{x:this.position[0].x+2,y:this.position[0].y+1},{x:this.position[1].x,y:this.position[1].y+1},{x:this.position[2].x+1,y:this.position[2].y},{x:this.position[3].x-1,y:this.position[3].y}]],0===this.rotation?(t=s[0],o=1):1===this.rotation&&(t=s[1],o=0);break;case"Z":s=[[{x:this.position[0].x+2,y:this.position[0].y-1},{x:this.position[1].x+1,y:this.position[1].y},{x:this.position[2].x,y:this.position[2].y-1},{x:this.position[3].x-1,y:this.position[3].y}],[{x:this.position[0].x-2,y:this.position[0].y+1},{x:this.position[1].x-1,y:this.position[1].y},{x:this.position[2].x,y:this.position[2].y+1},{x:this.position[3].x+1,y:this.position[3].y}]],0===this.rotation?(t=s[0],o=1):1===this.rotation&&(t=s[1],o=0);break;case"J":s=[[{x:this.position[0].x+1,y:this.position[0].y-2},{x:this.position[1].x,y:this.position[1].y-1},{x:this.position[2].x,y:this.position[2].y+1},{x:this.position[3].x-1,y:this.position[3].y}],[{x:this.position[0].x-2,y:this.position[0].y},{x:this.position[1].x-1,y:this.position[1].y+1},{x:this.position[2].x+1,y:this.position[2].y+1},{x:this.position[3].x,y:this.position[3].y+2}],[{x:this.position[0].x-1,y:this.position[0].y+1},{x:this.position[1].x,y:this.position[1].y},{x:this.position[2].x,y:this.position[2].y-2},{x:this.position[3].x+1,y:this.position[3].y-1}],[{x:this.position[0].x+2,y:this.position[0].y+1},{x:this.position[1].x+1,y:this.position[1].y},{x:this.position[2].x-1,y:this.position[2].y},{x:this.position[3].x,y:this.position[3].y-1}]],0===this.rotation?(t=s[0],o=3):3===this.rotation?(t=s[1],o=2):2===this.rotation?(t=s[2],o=1):1===this.rotation&&(t=s[3],o=0);break;case"L":s=[[{x:this.position[0].x+2,y:this.position[0].y-1},{x:this.position[1].x+1,y:this.position[1].y},{x:this.position[2].x,y:this.position[2].y+1},{x:this.position[3].x-1,y:this.position[3].y}],[{x:this.position[0].x-1,y:this.position[0].y-1},{x:this.position[1].x,y:this.position[1].y},{x:this.position[2].x+1,y:this.position[2].y+1},{x:this.position[3].x,y:this.position[3].y+2}],[{x:this.position[0].x-2,y:this.position[0].y},{x:this.position[1].x-1,y:this.position[1].y-1},{x:this.position[2].x,y:this.position[2].y-2},{x:this.position[3].x+1,y:this.position[3].y-1}],[{x:this.position[0].x+1,y:this.position[0].y+2},{x:this.position[1].x,y:this.position[1].y+1},{x:this.position[2].x-1,y:this.position[2].y},{x:this.position[3].x,y:this.position[3].y-1}]],0===this.rotation?(t=s[0],o=3):3===this.rotation?(t=s[1],o=2):2===this.rotation?(t=s[2],o=1):1===this.rotation&&(t=s[3],o=0);break;case"SUPER":s=[[{x:this.position[0].x+4,y:this.position[0].y},{x:this.position[1].x+3,y:this.position[1].y+1},{x:this.position[2].x+2,y:this.position[2].y+2},{x:this.position[3].x+1,y:this.position[3].y+3},{x:this.position[4].x,y:this.position[4].y+4},{x:this.position[5].x-1,y:this.position[5].y+5},{x:this.position[6].x-2,y:this.position[6].y+6},{x:this.position[7].x-3,y:this.position[7].y+7}],[{x:this.position[0].x-4,y:this.position[0].y},{x:this.position[1].x-3,y:this.position[1].y-1},{x:this.position[2].x-2,y:this.position[2].y-2},{x:this.position[3].x-1,y:this.position[3].y-3},{x:this.position[4].x,y:this.position[4].y-4},{x:this.position[5].x+1,y:this.position[5].y-5},{x:this.position[6].x+2,y:this.position[6].y-6},{x:this.position[7].x+3,y:this.position[7].y-7}]],0===this.rotation?(t=s[0],o=1):(t=s[1],o=0)}for(var n=0;n<t.length;n++)if(0!==i[t[n].y][t[n].x])return!1;this.position=t,this.rotation=o}},{key:"move",value:function(i,t){if(37===i||39===i){if(this.canMoveSideways(i,t)){var o=this.position.map(function(t){switch(i){case 37:return{y:t.y,x:t.x-1};case 39:return{y:t.y,x:t.x+1};default:return null}});this.position=o}}else if(83===i||68===i)switch(i){case 83:this.counterClockwise(t);break;case 68:this.clockwise(t)}else 40===i&&this.fall(t)}}]),i}(),ti=0,oi=function(i){var t=i.lost,o=i.board,s=i.score,n=i.lines,e=i.level,h=i.pieces,p=i.pieces.filter(function(i){return i.active});if(0===p.length){var r=new ii(function(){var i=Math.floor(700*Math.random());return i<100?"O":i<200?"I":i<300?"T":i<400?"S":i<500?"Z":i<600?"J":i<699?"L":"SUPER"}());h=i.pieces.concat(r)}if(p.map(function(t){return i.input&&(t.position.map(function(i){return o[i.y][i.x]=0,null}),t.move(i.input,o),t.position.map(function(i){return o[i.y][i.x]=t.color,null})),0===ti&&(t.position.map(function(i){return o[i.y][i.x]=0,null}),t.fall(o),t.position.map(function(i){return o[i.y][i.x]=t.color,null})),null}),n>=80?e=8:n>=70?e=7:n>=60?e=6:n>=50?e=5:n>=40?e=4:n>=30?e=3:n>=20?e=2:n>=10&&(e=1),0===p.length){var a=function(i){for(var t=i,o=0,s=0;s<i.length;s++)i[s].includes(0)||(t.splice(s,1),t.push([0,0,0,0,0,0,0,0,0,0]),o++,s--);var n=0;switch(o){case 1:n=40;break;case 2:n=100;break;case 3:n=300;break;case 4:n=1200;break;case 5:n=5e3;break;case 6:n=1e4;break;case 7:n=35e3;break;case 8:n=5e4}return{newBoard:t,score:n,lines:o}}(o);o=a.newBoard,s+=0===e?a.score:a.score*i.level*10,n+=a.lines,function(i){for(var t=0;t<10;t++)if(0!==i[20][t])return!0;return!1}(o)&&(t=!0)}return ti<[30,25,20,15,10,5,3,1,0][i.level]?ti++:ti=0,{pieces:h,board:o,score:s,lines:n,level:e,lost:t}},si={board:[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],pieces:[],height:window.innerHeight,step:Math.floor(window.innerHeight/20),input:null,level:0,score:0,lines:0,lost:!1,scores:[],modalUp:!1},ni=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_GAME":return Object(q.a)({},i,{board:[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],pieces:[],height:window.innerHeight,step:Math.floor(window.innerHeight/20),input:null,level:0,score:0,lines:0,lost:!1,modalUp:!1});case"UPDATE":var o=oi(i);return Object(q.a)({},i,{pieces:o.pieces,board:o.board,input:null,score:o.score,lines:o.lines,level:o.level,lost:o.lost});case"SET_INPUT":return Object(q.a)({},i,{input:t.input});case"END":return Object(q.a)({},i,{modalUp:!0});case"SET_SCORES":var s=t.scores;return Object(q.a)({},i,{scores:s});default:return i}},ei=Object(r.d)(ni,Object(r.c)(Object(r.a)($.a))),hi=n.a.createElement(p.a,{store:ei},n.a.createElement(Q,null));h.a.render(hi,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(i){i.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.27406792.chunk.js.map